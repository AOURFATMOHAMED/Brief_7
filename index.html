<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body{
      background:linear-gradient(to right, #0f2027,#203a43,#2c5364);
      font-family: 'poppins' sans-serif;
    }
    form{
      display: flex;
      flex-direction: column;
      width: 300px;
      margin: 20vh auto 0 auto;
      padding: 60px;
      background-color: whitesmoke;
      border-radius: 4px;
      font-size: 12px;
    }
    #form button{
      padding: 10px;
      margin-top: 10px;
      width: 100%;
      color: white;
      background-color: rgb(41, 57,194);
      border: none;
      border-radius: 4px;
    }
    
    form input{
      border: 2px solid #f0f0f0;
      border-radius: 4px;
      display: block;
      font-size: 12px;
      padding: 10px;
      width: 100%;
    }

    select{
      border: 2px solid #f0f0f0;
      border-radius: 4px;
      display: block;
      font-size: 12px;
      padding: 10px;
      width: 109%;
    }
    #type-input{
      display: flex;
      flex-direction: row; 
    }
    #type-input label{
      color: brown; 
    }

    th, td {
            /* margin-left: ; */
            color: aqua;
            border: 1px solid rgb(255, 254, 254);
            padding: 10px;
            align-items: center;
        }


  </style>
  <title>Document</title>
</head>
<body>
    <form id="form">
        <label for="titre">Titre</label>
        <p class="error"></p>
        <input id="titre" name="titre" type="text">
        <br>
        <label for="auteur">Auteur</label>
        <p class="error"></p>
        <input id="auteur" name="auteur" type="text">
        <br>

        <label for="prix">Prix</label>
        <p class="error"></p>
        <input id="prix" name="prix" type="text">
        <br>

        <label for="date de publication">Date de publication</label>
        <p class="error"></p>
        <input id="date-de-publication" name="date de publication" type="date">
        <br>

        <label for="langue">Langue</label>
        <p class="error"></p>
        <select id="langue" name="langue">
          <option disabled hidden selected value >sélectionner une langue</option>
          <option value="Arabe">Arabic</option>
          <option value="Anglais">English</option>
          <option value="Francais">French</option>
      </select>

        <br>
        <label for="type">Type</label>
        <p class="error"></p>
        <div id="type-input">
         <input type="radio" id="Roman" name="Selectionner" value="Roman">
          <label for="Roman">Roman</label><br>
          <input type="radio" id="Essai" name="Selectionner" value="Essai" >
          <label for="Essai">Essai</label><br>
          <input type="radio" id="Bande-Dessinée" name="Selectionner" value="Bande-Dessinée">
          <label for="Bande-Dessinée">Bande-Dessinée</label>
       </div>
      <button type="submit"> Ajouter</button>
    </form>

    <table>
      <tr>
          <th>Titre</th>
          <th>Auteur</th>
          <th>Prix</th>
          <th>Date de publication</th>
          <th>Langue</th>
          <th>Type</th>
      </tr>
    </table>


  <script>
    var titre = document.getElementById('titre');
    var auteur = document.getElementById('auteur');
    var prix = document.getElementById('prix');
    var date = document.getElementById('date-de-publication');
    var langue = document.getElementById('langue');
    var types = document.querySelectorAll('input[name="Selectionner"]');
    var formulaire = document.getElementById('form');
    var errors = document.getElementsByClassName("error");
    const roman = document.getElementById('Roman');
    const essai = document.getElementById('Essai');
    const bande = document.getElementById('Bande-Dessinée');
    var tableau = document.getElementsByTagName('table')[0];
    var selectedValue;
    
    
    

    formulaire.addEventListener('submit', function eVent(e){
        e.preventDefault();

        if (titre.value.length > 30){
        errors[0].innerHTML="ne doit pas dépasser 30 caractères";
        errors[0].style.color = 'red'

      }
       else if( titre.value == ""){
        errors[0].innerHTML="Ce champ est OBLIGATOIRE";
        errors[0].style.color = 'red'
        titre.style.borderColor = "red" 
      }

      else{
        titre.style.borderColor = "green" 
        errors[0].innerHTML="";
      };

      if (auteur.value.length > 30){
        errors[1].innerHTML="ne doit pas dépasser 30 caractères";
        errors[1].style.color = 'red'
      }
       else if( auteur.value == ""){
        errors[1].innerHTML="Ce champ est OBLIGATOIRE";
        errors[1].style.color = 'red';
        auteur.style.borderColor = "red" 
      }
      else{
        auteur.style.borderColor = "green" 
        errors[1].innerHTML="";
      };     
      if(isNaN(prix.value)){
        errors[2].innerHTML="entrer un nombre ";
        errors[2].style.color = 'red';
        prix.style.borderColor = "red" 
      }
      else if(prix.value == ""){
        errors[2].innerHTML=" Ce champ est OBLIGATOIRE";
        errors[2].style.color = 'red';
        prix.style.borderColor = "red" 
      }
      else if(prix.value<0){
        errors[2].innerHTML=" la valeur de prix doit etre postive";
        errors[2].style.color = 'red';
        prix.style.borderColor = "red"  
      }

      else{
        errors[2].style.color = 'green';
        prix.style.borderColor = "green" 
        errors[2].innerHTML="";
      
      };
      if( date.value == ""){
        errors[3].innerHTML="Ce champ est OBLIGATOIRE";
        errors[3].style.color = 'red';
        date.style.borderColor = "red" 
      }
      else {date.style.borderColor = "green"
            errors[3].innerHTML="";

    };
      if(langue.value == "sélectionner une langue"){
        errors[4].innerHTML="Selectionner une langue";
        errors[4].style.color = 'red';
        langue.style.borderColor="red"
      }
      else {
        errors[4].innerHTML="";
        langue.style.borderColor="green"
      }

      if(!(roman.checked || essai.checked || bande.checked)){
        errors[5].innerHTML="Coucher votre type d'ouvrage";
        errors[5].style.color = 'red';
      }
      else{
        errors[5].innerHTML="";
      }

      // for(var type of types){
      //   if(type.checked)
      //   {
      //     selectedValue = type.value;
      //     break;
      //   }
      // }
      // var template = `
      //                   <tr>
      //                       <td>${titre.value}</td>
      //                       <td>${auteur.value}</td>
      //                       <td>${prix.value}</td> 
      //                       <td>${date.value}</td> 
      //                       <td>${langue.options[langue.selectedIndex].value}</td> 
      //                       <td>${selectedValue}</td> 
      //                   </tr>`;
      //   tableau.innerHTML+=template;  





      var ligne = tableau.insertRow(-1);
        ligne.insertCell(0).innerHTML=titre.value;
        ligne.insertCell(1).innerHTML=auteur.value;
        ligne.insertCell(2).innerHTML=prix.value;
        ligne.insertCell(3).innerHTML=date.value;
        ligne.insertCell(4).innerHTML=langue.options[langue.selectedIndex].value;

        for(var type of types){
        if(type.checked)
        {
          selectedValue = type.value;
        }
      }
        ligne.insertCell(5).innerHTML=selectedValue;
    }
    );


  </script>
</body>
</html>